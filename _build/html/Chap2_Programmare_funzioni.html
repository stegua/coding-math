
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2. Programmare funzioni &#8212; Coding Math</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Programmare grafici" href="Chap3_Programmare_grafici.html" />
    <link rel="prev" title="1. Elementi di Programmazione" href="Chap1_Introduzione.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Coding Math</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Coding Math: Introduzione alla programmazione per matematici
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Chap1_Introduzione.html">
   1. Elementi di Programmazione
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   2. Programmare funzioni
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Chap3_Programmare_grafici.html">
   3. Programmare grafici
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Chap4_Astrarre_tipi_di_dati.html">
   4. Astrarre tipi di dati
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/stegua/coding-math/main?urlpath=tree/Chap2_Programmare_funzioni.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/stegua/coding-math/blob/main/Chap2_Programmare_funzioni.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/stegua/coding-math"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/stegua/coding-math/issues/new?title=Issue%20on%20page%20%2FChap2_Programmare_funzioni.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/Chap2_Programmare_funzioni.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calcolo-della-radice-quadrata-di-un-numero">
   2.1 Calcolo della radice quadrata di un numero
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#enumerazione-esaustiva">
     2.1.1 Enumerazione Esaustiva
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ricerca-per-bisezione">
     2.1.2 Ricerca per bisezione
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#il-metodo-di-newton">
     2.1.3 Il metodo di Newton
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#errore-di-approssimazione-con-il-metodo-di-newton">
     2.1.4 Errore di Approssimazione con il metodo di Newton
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#confronto-tra-le-tre-funzioni-trovate">
     2.1.5 Confronto tra le tre funzioni trovate
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>2. Programmare funzioni</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calcolo-della-radice-quadrata-di-un-numero">
   2.1 Calcolo della radice quadrata di un numero
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#enumerazione-esaustiva">
     2.1.1 Enumerazione Esaustiva
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ricerca-per-bisezione">
     2.1.2 Ricerca per bisezione
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#il-metodo-di-newton">
     2.1.3 Il metodo di Newton
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#errore-di-approssimazione-con-il-metodo-di-newton">
     2.1.4 Errore di Approssimazione con il metodo di Newton
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#confronto-tra-le-tre-funzioni-trovate">
     2.1.5 Confronto tra le tre funzioni trovate
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="programmare-funzioni">
<h1>2. Programmare funzioni<a class="headerlink" href="#programmare-funzioni" title="Permalink to this headline">#</a></h1>
<p><strong>ULTIMA MODIFICA: 13.10.2022</strong></p>
<div class="section" id="calcolo-della-radice-quadrata-di-un-numero">
<h2>2.1 Calcolo della radice quadrata di un numero<a class="headerlink" href="#calcolo-della-radice-quadrata-di-un-numero" title="Permalink to this headline">#</a></h2>
<p>Le procedure che abbiamo introdotto sino ad ora sono essenzialmente delle <strong>funzioni matematiche</strong> che specificano un valore di <em>output</em> che viene calcolato a partire da uno o più parametri di <em>input</em>. A differenze delle funzioni definite in matematica “<em>teorica</em>”, le procedure definite al calcolatore devono essere anche <strong>efficienti</strong>, ovvero devono terminare la loro esecuzione in tempo breve. Proviamo a vedere un semplice esempio pratico di cosa vuol dire avere una procedura efficiente.</p>
<p>Si consideri la definizione matematica seguente:</p>
<div class="math notranslate nohighlight">
\[\sqrt{x} = y \quad \mbox{ se e solo se }\quad y \geq 0 \mbox{ e } y^2 = x\]</div>
<p>Queste definizione è senz’altro corretta da un punto di vista matematico. Potremmo usare questa definizione per controllare se un dato numero <span class="math notranslate nohighlight">\(y\)</span>, esso sia la radice quadrata di un altro numero <span class="math notranslate nohighlight">\(x\)</span>. Tuttavia, questa definizione non descrive una procedura per calcolare la radice quadrata di <span class="math notranslate nohighlight">\(x\)</span>.</p>
<p>Per poter calcolare la radice quadrata di un numero abbiamo bisogno di un <strong>Algoritmo</strong> che viene <em>implementato</em> con una o più procedure di supporto.</p>
<p>In questa sezione, usiamo l’esempio del calcolo della radice quadrata per mostrare tre metodi fondamentali per risolvere dei problemi:</p>
<ol class="simple">
<li><p>Ricerca di una soluzione per <strong>Enumerazione Esaustiva</strong> (ovvero per semplice <em>forza bruta</em>).</p></li>
<li><p>Ricerca di una soluzione usando un <strong>Metodo di Bisezione</strong>: lo spazio di ricerca viene ripetutamente ristretto, sfruttando delle semplici assunzioni di ordinamento sullo spazio di ricerca.</p></li>
<li><p>Ricerca di una soluzione con un <strong>metodo dedicato</strong> (ovvero il <em>medoto di Newton</em>) che sfrutta la struttura del problema che vogliamo risolvere per ottenere un algoritmo efficiente.</p></li>
</ol>
<p>Prima di procedere, diamo sotto una definzione formale di <em>Algoritmo</em>:</p>
<p><strong>TODO: aggiungi definizione formale</strong>.</p>
<div class="section" id="enumerazione-esaustiva">
<h3>2.1.1 Enumerazione Esaustiva<a class="headerlink" href="#enumerazione-esaustiva" title="Permalink to this headline">#</a></h3>
<p>Se ci limitiamo a considerare i numeri interi, potremmo utilizzare la definizione precedente per trovare la radice quadrata di un numero intero positivo attraverso una <strong>enumerazione esaustiva</strong>: per trovare la radice quadrata di <span class="math notranslate nohighlight">\(x\)</span>, possiamo provare tutti i numeri da <span class="math notranslate nohighlight">\(x\)</span> a 1, e verificare ogni volta se il numero “tentativo” sia il quadrato dell’altro.</p>
<p><strong>ESERCIZIO 2.1</strong>: Scrivere una procedura (funzione) che prende in input un numero intero maggiore o uguale a 1, e prova tutti i numeri da <span class="math notranslate nohighlight">\(x\)</span> a 1. Se la funzione trova la radice quadrata esatta la restituisce, altrimenti restituisce <code class="docutils literal notranslate"><span class="pre">nan</span></code> (ovvero, <em>not a number</em>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Radice intera di un numero naturale per enumerazione</span>
<span class="k">def</span> <span class="nf">SqrtInt</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="c1"># Controllo sui dati di input</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">int</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ERRORE: la funzione prende in input solo numeri interi positivi&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
        
    <span class="c1"># Definisco una funzione interna, in modo che la funzione che &quot;espongo&quot;</span>
    <span class="c1"># prende un singolo parametro di input</span>
    <span class="k">def</span> <span class="nf">Rec</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span> <span class="o">==</span> <span class="n">x</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">y</span>
        <span class="k">return</span> <span class="n">Rec</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="c1"># NOTA: per dimezzare il numero di chiamate ricorsive, posso trattare a </span>
    <span class="c1">#       parte il caso x==1, e per x&gt;=2, posso dividere x per 2</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    
    <span class="c1"># La radice intera di un numero intero x è minore di x/2</span>
    <span class="k">return</span> <span class="n">Rec</span><span class="p">(</span><span class="n">x</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;radice di 16&#39;</span><span class="p">,</span> <span class="n">SqrtInt</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;radice di 17&#39;</span><span class="p">,</span> <span class="n">SqrtInt</span><span class="p">(</span><span class="mi">17</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;radice di 2.5&#39;</span><span class="p">,</span> <span class="n">SqrtInt</span><span class="p">(</span><span class="mf">2.5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>radice di 16 4
radice di 17 -1
ERRORE: la funzione prende in input solo numeri interi positivi
radice di 2.5 nan
</pre></div>
</div>
</div>
</div>
<p>Si osservi che la stringa <code class="docutils literal notranslate"><span class="pre">nan</span></code> può essere convertita ad un dato di tipo <code class="docutils literal notranslate"><span class="pre">float</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>str
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>float
</pre></div>
</div>
</div>
</div>
<p><strong>DOMANDE:</strong></p>
<ol class="simple">
<li><p>Come fare per trovare la radice quadrata di un numero reale positivo?</p></li>
<li><p>Cosa vuol dire che due numeri reali sono <strong>uguali</strong>?</p></li>
<li><p>Come viene valutata l’espressione logica: $<span class="math notranslate nohighlight">\(\frac{1}{10}+\frac{1}{10}+\frac{1}{10} = \frac{3}{10}\)</span>$</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">/</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">10</span><span class="o">+</span><span class="mi">1</span><span class="o">/</span><span class="mi">10</span> <span class="o">==</span> <span class="mi">3</span><span class="o">/</span><span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p><strong>ATTENZIONE</strong>: Bisogna fare molta attenzione quando si <strong>confrontano</strong> i numeri reali al calcolatore.</p>
<p>Rivediamo quindi leggermente la definizione di radice quadrata, introducendo il concetto di <strong>tolleranza numerica</strong>. In pratica, cerchiamo un numero reale positivo tale che</p>
<div class="math notranslate nohighlight">
\[\sqrt{x} \simeq y \quad \mbox{ tale che } \quad |y^2 - x| &lt; \epsilon,  \quad y \geq 0, \epsilon&gt;0 \]</div>
<p>dove <span class="math notranslate nohighlight">\(\epsilon\)</span> è una costante molto piccola, per esempio <span class="math notranslate nohighlight">\(\epsilon=10^{-7}\)</span>.</p>
<p><strong>DOMANDA:</strong> Quante operazioni aritmetiche e logiche dobbiamo eseguire prima di ottenere un risultato?</p>
</div>
<div class="section" id="ricerca-per-bisezione">
<h3>2.1.2 Ricerca per bisezione<a class="headerlink" href="#ricerca-per-bisezione" title="Permalink to this headline">#</a></h3>
<p>Potremmo cercare di migliorare la procedura di enumerazione esaustiva assumendo che i numeri che dobbiamo controllare siano ordinati in ordine crescente (o decrescente). In questo modo, potremmo evitare di controllare tutti i numeri, uno alla volta, e potremmo cercare di fare dei “salti” sfruttando la proprietà che i numeri sono ordinati.</p>
<p><strong>ESERCIZIO 2.2</strong>: Scrivere una procedura che, per trovare la radice quadrata di un numero, ogni volta divide l’intervallo di ricerca in due parti uguali, e continua ad esplorare solo la parte in cui effettivamente si può trovare la radice cercata.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Radice di un numero positivo per bisezione</span>
<span class="k">def</span> <span class="nf">RadiceBisezione</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-7</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="c1"># NOTA: usando la notazione per &quot;eps=&quot;, stiamo assegnando un valore di</span>
    <span class="c1">#       default al secondo parametro formale di input</span>
    
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">float</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ERRORE: la funzione prende in input solo dati numerici di tipo int o float&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ERRORE: la funzione prende in input solo numeri positivi&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">Rec</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="c1"># Nuovo valore tentativo per la soluzione</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
        
        <span class="c1"># Stampo a video il progresso dell&#39;intervallo e dell&#39;errore        </span>
        <span class="c1"># NOTA BENE: la stampa a video serve solo a scopo didattico.</span>
        <span class="c1">#            una volta che si è verificata la correttezza dell&#39;implementazione</span>
        <span class="c1">#            la stampa a video va rimossa, oppure inserita </span>
        <span class="c1">#            come parametro opzionale (come fatto in questo caso)</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="nb">abs</span><span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
        
        <span class="c1"># Errore teorico del metodo per bisezione</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">&lt;</span> <span class="n">eps</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">y</span>        
        
        <span class="n">y2</span> <span class="o">=</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span>
        
        <span class="c1"># Errore sul quadrato del numero</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y2</span> <span class="o">-</span> <span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">eps</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">y</span>
        
        <span class="c1"># Devo decidere su quale intervallo continuare la ricerca per bisezione</span>
        <span class="k">if</span> <span class="n">y2</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">Rec</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>        
        
        <span class="k">return</span> <span class="n">Rec</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    
    <span class="c1"># Ricordarsi di chiamare almeno una volta la funzione ricorsiva interna</span>
    <span class="k">return</span> <span class="n">Rec</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="c1"># Valore di defualt di eps</span>
<span class="nb">print</span><span class="p">(</span><span class="n">RadiceBisezione</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.4142135381698608
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Provare con diversi valori di eps</span>
<span class="nb">print</span><span class="p">(</span><span class="n">RadiceBisezione</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">1e-4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.4141845703125
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="il-metodo-di-newton">
<h3>2.1.3 Il metodo di Newton<a class="headerlink" href="#il-metodo-di-newton" title="Permalink to this headline">#</a></h3>
<p>Il metodo numerico più usato per calcolare la radice quadrata è il metodo di approssimazioni successive introdotto da Newton. Il metodo consiste nel trovare la soluzione attraverso aggiustamenti successivi di una soluzione tentativo: se abbiamo un valore <span class="math notranslate nohighlight">\(y\)</span> che rappresenta il valore tentativo della radice quadrata di un altro numero <span class="math notranslate nohighlight">\(x\)</span>  possiamo ottenere una approssimazione più accurata calcolando la media tra <span class="math notranslate nohighlight">\(y\)</span> e <span class="math notranslate nohighlight">\(x/y\)</span>.</p>
<p>Il metodo di Newtnon consiste quindi di partire da un <span class="math notranslate nohighlight">\(y_0&gt;0\)</span> e ad ogni iterazione di calcolare:</p>
<div class="math notranslate nohighlight">
\[y_{i+1} = \frac{y_i + \frac{x}{y_i}}{2}\]</div>
<p><strong>ESEMPIO:</strong> Ricerca della radice quadrata di 2.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Valore Tentativo <span class="math notranslate nohighlight">\(y\)</span></p></th>
<th class="text-align:center head"><p>Quoziente <span class="math notranslate nohighlight">\(x/y\)</span></p></th>
<th class="text-align:center head"><p>Media tra <span class="math notranslate nohighlight">\(y\)</span> e <span class="math notranslate nohighlight">\(x/y\)</span></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>2/1</p></td>
<td class="text-align:center"><p>(1+2)/2=1.5</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>1.5</p></td>
<td class="text-align:center"><p>2/1.5=1.3333</p></td>
<td class="text-align:center"><p>(1.3333+1.5)/2=1.4167</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>1.4167</p></td>
<td class="text-align:center"><p>2/1.4167=1.4118</p></td>
<td class="text-align:center"><p>(1.4118 + 1.4167)/2=1.4142</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>1.4142</p></td>
<td class="text-align:center"><p>…</p></td>
<td class="text-align:center"><p>…</p></td>
</tr>
</tbody>
</table>
<p><strong>ESERCIZIO 2.3</strong>: Scrivere una o più procedure per trovare la radice quadrata di un numero, utilizzando il metodo di Newton scritto sopra.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">RadiceNewton</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-07</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="c1"># Controllo sui dati di input</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">float</span> <span class="ow">and</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ERRORE: la funzione prende in input solo dati numerici di tipo int o float&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ERRORE: la funzione prende in input solo numeri positivi&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">Rec</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>  
        <span class="c1"># Calcola il prossimo valore tentativo usando la formula di Newton</span>
        <span class="n">z</span> <span class="o">=</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="p">)</span>
        
        <span class="c1"># Stampa a video il progresso della ricorsione (se richiesto)</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="nb">abs</span><span class="p">(</span><span class="n">z</span><span class="o">*</span><span class="n">z</span> <span class="o">-</span> <span class="n">x</span><span class="p">))</span>
        
        <span class="c1"># Analisi dell&#39;errore come spiegato sotto nella Sezione 2.1.4</span>
        <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">z</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">eps</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">z</span>
        
        <span class="k">return</span> <span class="n">Rec</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
    
    <span class="c1"># NOTA: attenzione, si deve trattare a parte il caso x==0</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">Rec</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">RadiceNewton</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">1e-13</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.5 0.25
1.4166666666666665 0.006944444444444198
1.4142156862745097 6.007304882427178e-06
1.4142135623746899 4.510614104447086e-12
1.414213562373095 4.440892098500626e-16
1.414213562373095 4.440892098500626e-16
1.414213562373095
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">RadiceNewton</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1e-13</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.7071067811865475
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">RadiceNewton</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1e-13</span><span class="p">)</span><span class="o">*</span><span class="n">RadiceNewton</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1e-13</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.4999999999999999
</pre></div>
</div>
</div>
</div>
<p><strong>DOMANDA:</strong> è possibile trovare un criterio di arresto alternativo, che sia espresso in funzione dell’errore commesso nel calcolo della radice quadrata? (Ovviamente senza conoscere il valore esatto della radice quadrata…)</p>
</div>
<div class="section" id="errore-di-approssimazione-con-il-metodo-di-newton">
<h3>2.1.4 Errore di Approssimazione con il metodo di Newton<a class="headerlink" href="#errore-di-approssimazione-con-il-metodo-di-newton" title="Permalink to this headline">#</a></h3>
<p>Studiamo ora come stimare l’errore del metodo di Newton, senza conoscere il valore esatto di <span class="math notranslate nohighlight">\(\sqrt{x}\)</span>. Chiamiamo <span class="math notranslate nohighlight">\(E_i\)</span> l’errore di approssimazione commesso al passo <span class="math notranslate nohighlight">\(i\)</span>-esimo:</p>
<div class="math notranslate nohighlight">
\[E_i = y_i - \sqrt{x}\]</div>
<p>da cui possiamo anche ricavare</p>
<div class="math notranslate nohighlight">
\[y_i = \sqrt{x} + E_i\]</div>
<p>L’errore che avremo alla prossima iterazione, sarà pari a</p>
<div class="math notranslate nohighlight">
\[E_{i+1} = y_{i+1} - \sqrt{x} = \frac{y_i + \frac{x}{y_i}}{2} - \sqrt{x} = \frac{y_i^2 - 2 y_i \sqrt{x_i} +x}{2 y_i} = \frac{(y_i - \sqrt{x})^2}{2 y_i}= \frac{E_i^2}{2 y_i}\]</div>
<p>Facendo un po’ di conti a partire dall’espressione precedente, si arriva a far vedere che</p>
<div class="math notranslate nohighlight">
\[E_{i+1} = \frac{E_i^2}{2 y_i} \geq 0\]</div>
<p>In pratica, dopo il primo tentativo <span class="math notranslate nohighlight">\(y_0 &gt; 0\)</span>, tutti gli errori successivi saranno sempre positivi, quindi e l’errore ad ogni iterazione diventa sempre più piccolo, in quanto</p>
<div class="math notranslate nohighlight">
\[E_i = y_i - \sqrt{x} &lt; y_i \quad \mbox{ e quindi } 0 \leq \frac{E_i}{y_i} &lt;1\]</div>
<p>e inoltre</p>
<div class="math notranslate nohighlight">
\[E_{i+1} = \frac{E_i^2}{2 y_i} = \frac{E_i}{y_i} \times \frac{E_i}{2} &lt; \frac{E_i}{2}\]</div>
<p>Riassumendo, abbiamo mostrato che l’errore diventa sempre più piccolo in quanto</p>
<div class="math notranslate nohighlight">
\[0 \leq E_{i+1} &lt; \frac{E_i}{2} &lt; E_i.\]</div>
<p>Vediamo ora come possiamo usare le espressioni precedenti per ottenere un criterio di arresto usando una stima sull’errore. Dalle relazioni precedenti abbiamo che</p>
<div class="math notranslate nohighlight">
\[0 \leq y_{i+1} - \sqrt{x} &lt; y_{i} - \sqrt{x}\]</div>
<p>da cui</p>
<div class="math notranslate nohighlight">
\[\sqrt{x} \leq y_{i+1} &lt; y_{i}\]</div>
<p><strong>TODO: aggiungi figura</strong></p>
<p>Se riprendiamo la definzione di errore ad una data iterazione <span class="math notranslate nohighlight">\(i\)</span>, abbiamo che</p>
<div class="math notranslate nohighlight">
\[E_i = y_i - \sqrt{x}= y_i - y_{i+1} + y_{i+1} -\sqrt{x} = (y_i - y_{i+1}) + E_{i+1} &lt; (y_i - y_{i+1}) + \frac{E_{i}}{2}\]</div>
<p>ovvero</p>
<div class="math notranslate nohighlight">
\[0 \leq \frac{E_i}{2} &lt; y_i - y_{i+1}.\]</div>
<p>In pratica, se si vuole calcolare la radice quadrata di un numero reale positivo con un margine di errore minore di <span class="math notranslate nohighlight">\(\epsilon &gt; 0\)</span>, basterà verificare la condizione:</p>
<div class="math notranslate nohighlight">
\[y_i - y_{i+1} &lt; \epsilon.\]</div>
</div>
<div class="section" id="confronto-tra-le-tre-funzioni-trovate">
<h3>2.1.5 Confronto tra le tre funzioni trovate<a class="headerlink" href="#confronto-tra-le-tre-funzioni-trovate" title="Permalink to this headline">#</a></h3>
<p>Possiamo provare a fare un piccolo confronto tra le tre funzioni trovate in termini di efficienza, andando a contare, per esempio, quante volte è stata chiamata la funzione ricorsiva. Per poterlo fare, si deve aggiungere un parametro formale che viene incrementato di uno ogni volta che si effettua una chiamata ricorsiva. Tale valore può essere stampato a video prima di restituire il valore finale.</p>
<p><strong>ESERCIZIO 2.4</strong>: Modificare le procedure precedenti per contare il numero di chiamate ricorsive con le tre procedure precedenti:</p>
<ol class="simple">
<li><p>Enumerazione Esaustiva</p></li>
<li><p>Metodo di Bisezione</p></li>
<li><p>Metodo di Newton</p></li>
</ol>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="Chap1_Introduzione.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">1. Elementi di Programmazione</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Chap3_Programmare_grafici.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">3. Programmare grafici</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Stefano Gualandi, @famo2spaghi<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>